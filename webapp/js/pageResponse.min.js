/* 
 * 名称 ：移动端响应式框架
 * 作者 ：白树 http://peunzhang.cnblogs.com
 * 版本 ：v2.0
 * 日期 ：2015.9.22
 * 兼容 ：ios 5+、android 2.3.5+、winphone 8+
 */
function pageResponse(d) {
	var c = navigator.userAgent, n = c.match(/Windows Phone ([\d.]+)/), e = c
			.match(/(Android);?[\s\/]+([\d.]+)?/), b = document.documentElement.clientWidth, m = document.documentElement.clientHeight, g = b
			/ m, p = d.width || 320, k = d.height || 504, a = p / k, l = document
			.querySelectorAll(d.selectors), j = l.length, h = d.mode || "auto", f = (h == "contain") ? (g > a ? m
			/ k
			: b / p)
			: (h == "cover") ? (g < a ? m / k : b / p) : b / p;
	function o(s, r, q) {
		var i = r.style;
		i.width = p + "px";
		i.height = k + "px";
		i.webkitTransformOrigin = "left top 0";
		i.transformOrigin = "left top 0";
		i.webkitTransform = "scale(" + q + ")";
		i.transform = "scale(" + q + ")";
		if (s == "auto" && e) {
			document.body.style.height = k * q + "px"
		} else {
			if (s == "contain" || s == "cover") {
				i.position = "absolute";
				i.left = (b - p) / 2 + "px";
				i.top = (m - k) / 2 + "px";
				i.webkitTransformOrigin = "center center 0";
				i.transformOrigin = "center center 0";
				if (n) {
					document.body.style.msTouchAction = "none"
				} else {
					document.ontouchmove = function(t) {
						t.preventDefault()
					}
				}
			}
		}
	}
	while (--j >= 0) {
		o(h, l[j], f)
	}
};